<?php

 $title = 'Update Student Details Form';
 $this->headTitle($title);
?>

<div class="right_col" role="main">
    <div class=" ">
        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel">
                <div class="x_title">
                    <h2><?php echo $this->escapeHtml($title); ?></h2>
                    <div class="clearfix"></div>
                </div><!--end of x-title-->
                 <div class="x_content">   
                    <br/>
                    <?php
                        $form->prepare();
                        echo $this->form()->openTag($form);
                        $reported = $form->get('updatedstudentreportingdetails');
                        echo $this->form()->openTag($form);
                        $reported->get('id')->setValue($this->reportedStudentDetails->getId());

                        echo $this->form()->openTag($form);
                        $reported->get('id')->setValue($this->reportedStudentDetails->getId());
                        $reported->get('programmes_id')->setValue($this->reportedStudentDetails->getProgrammes_Id());
                        echo $this->formHidden($reported->get('programmes_id'));
                        $reported->get('programme_name')->setValue($this->reportedStudentDetails->getProgramme_Name());
                        $reported->get('organisation_id')->setValue($this->reportedStudentDetails->getOrganisation_Id());
                        echo $this->formHidden($reported->get('organisation_id'));
                        $reported->get('first_name')->setValue($this->reportedStudentDetails->getFirst_Name());
                        echo $this->formHidden($reported->get('first_name'));
                        $reported->get('middle_name')->setValue($this->reportedStudentDetails->getMiddle_Name());
                        echo $this->formHidden($reported->get('middle_name'));
                        $reported->get('last_name')->setValue($this->reportedStudentDetails->getLast_Name());
                        echo $this->formHidden($reported->get('last_name'));
                        $reported->get('cid')->setValue($this->reportedStudentDetails->getCid());
                       //  $reported->get('registration_no')->setValue($this->reportedStudentDetails->getRegistration_No());
                        $reported->get('date_of_birth')->setValue($this->reportedStudentDetails->getDate_Of_Birth());
                        $reported->get('gender')->setValue($this->reportedStudentDetails->getGender());
                        echo $this->formHidden($reported->get('gender'));
                        $reported->get('student_gender')->setValue($this->reportedStudentDetails->getStudent_Gender());
                       // $reported->get('blood_group')->setValue($this->reportedStudentDetails->getBlood_Group());
                      //  $reported->get('birth_place')->setValue($this->reportedStudentDetails->getBirth_Place());
                      //  $reported->get('nationality')->setValue($this->reportedStudentDetails->getNationality());
                       // $reported->get('mother_tongue')->setValue($this->reportedStudentDetails->getMother_Tongue());
                        $reported->get('enrollment_year')->setValue($this->reportedStudentDetails->getEnrollment_Year());
                         $reported->get('scholarship_type')->setValue($this->reportedStudentDetails->getScholarship_Type());
                         echo $this->formHidden($reported->get('scholarship_type'));


                       // $reported->get('student_reporting_status')->setValue($this->reportedStudentDetails->getStudent_Reporting_Status());

                      //  $reported->get('joining_date')->setValue($this->reportedStudentDetails->getJoining_Date());
                       $reported->get('student_type')->setValue($this->reportedStudentDetails->getStudent_Type());
                       $reported->get('student_id')->setValue($this->reportedStudentDetails->getStudent_Id());

                       $reported->get('guardian_name')->setValue($this->reportedStudentDetails->getGuardian_Name());
                       $reported->get('guardian_relation')->setValue($this->reportedStudentDetails->getGuardian_Relation());
                       $reported->get('guardian_contact_no')->setValue($this->reportedStudentDetails->getGuardian_Contact_No());             

                       $reported->get('student_category_id')->setValueOptions($this->studentCategory);

                       $reported->get('student_country_id')->setValueOptions($this->country);
                       $reported->get('student_nationality_id')->setValueOptions($this->nationality);
                       $reported->get('father_nationality')->setValueOptions($this->nationality);
                       $reported->get('mother_nationality')->setValueOptions($this->nationality);

                       $date = date('Y-m-d');
                       $reported->get('date')->setValue($date);
                       echo $this->formHidden($reported->get('date'));

                        $reported->get('submit')->setValue('Update');
                       echo $this->formRow($reported->get('id')); 



                     ?>
                            <h2>Step 1.Official Details:</h2>

                            <div class="form-group">
                               <label class="control-label col-md-2 col-sm-2 col-xs-12">Programme</label>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('programme_name')); ?>
                                        </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Enrollment Year</label>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('enrollment_year')); ?>
                                        </div>
                            </div> 
                            <div class="form-group">
                                        <label class="control-label col-md-2 col-sm-2 col-xs-12">Student ID</label>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('student_id')); ?>
                                        </div>
                            </div> 
                            <br/>
                            <div class="x_title">
                            <div class="clearfix"></div>
                            </div><br/> 

                            <h2>Step 2.Personal  Details:</h2>
                         
                            <div class="form-group">
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Name</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <input type="text" placeholder="<?php 
                                                    echo $this->reportedStudentDetails->getFirst_Name().' ';
                                                    echo $this->reportedStudentDetails->getMiddle_Name().' ';
                                                    echo $this->reportedStudentDetails->getLast_Name(); 
                                                    ?>" class="form-control col-md-7 col-xs-12" readonly="readonly">
                                    </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Date of Birth</label>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('date_of_birth')); ?>
                                      </div>
                            </div>    
                            <div class="form-group">
                                 <label class="control-label col-md-2 col-sm-2 col-xs-12">CID No# </label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <?php  echo $this->formRow($reported->get('cid')); ?>
                                    </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Gender</label>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('student_gender')); ?>
                                      </div>
                            </div>
                            <div class="form-group">
                                      <label class="control-label col-md-2 col-sm-2 col-xs-12">Student Type</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <?php  echo $this->formRow($reported->get('student_type')); ?>
                                    </div>
                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">Student Category</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <?php  echo $this->formRow($reported->get('student_category_id')); ?>
                                    </div>
                                
                            </div>
                            <br/>

                            <div class="x_title">
                            <div class="clearfix"></div>
                            </div><br/>  

                             <h2>Step 3.Contact Details:</h2>
                              <h4>Permanent Address:</h4>

                            <div class="form-group"> 

                            <label class="control-label col-md-2 col-sm-2 col-xs-12">Country</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('student_country_id')); ?>
                                    </div>
                                
                                 <label class="control-label col-md-2 col-sm-2 col-xs-12">Nationaliy</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                           <?php  echo $this->formRow($reported->get('student_nationality_id')); ?>
                                    </div>
                            </div> <br/>

                            <div class="form-group"> 

                            <label class="control-label col-md-2 col-sm-2 col-xs-12">Dzongkhag</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($form->get('dzongkhag')); ?>
                                    </div>
                                
                                 <label class="control-label col-md-2 col-sm-2 col-xs-12">Gewog</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                           <?php  echo $this->formRow($form->get('gewog')); ?>
                                    </div>
                            </div>
                            <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Village </label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($form->get('village')); ?>
                                    </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">House No#</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('house_no')); ?>
                                    </div>
                            </div>
                            <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Thram No#</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('thram_no')); ?>
                                    </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Mobile No#</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('contact_no')); ?>
                                    </div>
                            </div>
                              <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Email Address</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('email')); ?>
                                    </div>
                            </div>
                            <br/>
                            <div class="x_title">
                            <div class="clearfix"></div>
                            </div><br/>

                            <h2>Step 4. Parent's Details:</h2>

                            <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Father's Name</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('father_name')); ?>
                                    </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">CID No.</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('father_cid')); ?>
                                    </div>
                            </div>
                            <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Father's Nationality</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('father_nationality')); ?>
                                    </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Occupation</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('father_occupation')); ?>
                                    </div>                                
                            </div>
                            <div class="form-group">                            
                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">House No#</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('father_house_no')); ?>
                                    </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Thram No#</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('father_thram_no')); ?>
                                    </div>

                            </div>
                            <div class="form-group">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12">Dzongkhag</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($form->get('father_dzongkhag')); ?>
                                    </div> 
                            <label class="control-label col-md-2 col-sm-2 col-xs-12">Gewog</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($form->get('father_gewog')); ?>
                                    </div>
                            </div>

                            <div class="form-group">                                
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Village</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($form->get('father_village')); ?>
                                    </div>
                            </div>
                            <br><br>
                            <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Mother's Name</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('mother_name')); ?>
                                    </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">CID No.</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('mother_cid')); ?>
                                    </div>
                            </div>
                            <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Nationality</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('mother_nationality')); ?>
                                    </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Occupation</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('mother_occupation')); ?>
                                    </div>
                            </div>
                            <div class="form-group">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12">House No#</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('mother_house_no')); ?>
                                    </div> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Thram No#</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('mother_thram_no')); ?>
                                    </div>
                                
                            </div>
                            <div class="form-group">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12">Dzongkhag</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($form->get('mother_dzongkhag')); ?>
                                    </div> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Gewog</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($form->get('mother_gewog')); ?>
                                    </div>
                            </div>
                            <div class="form-group">
                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">Village</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($form->get('mother_village')); ?>
                                    </div>
                                
                            </div><br><br>
                            <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Parent's Contact No#</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('parents_contact_no')); ?>
                                    </div>
                                 <label class="control-label col-md-2 col-sm-2 col-xs-12">Parent's Present Address</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('parents_present_address')); ?>
                                    </div>
                            </div>
                            <br/>
                            <div class="x_title">
                            <div class="clearfix"></div>
                            </div><br/>



                            <h2>Step 5. Guardian Details:</h2>

                            <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Guardian Name</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('guardian_name')); ?>
                                    </div>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Guardian Occupation</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('guardian_occupation')); ?>
                                    </div>
                            </div>
                            <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Guardian Relation</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('guardian_relation')); ?>
                                    </div>
                            </div>
                            <div class="form-group"> 
                            <h4>Guardian Contact Address:</h4>
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Guardian Address</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('guardian_address')); ?>
                                    </div>
                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">Guardian Contact No</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('guardian_contact_no')); ?>
                                    </div>
                                
                            </div>
                            <div class="form-group"> 
                                <label class="control-label col-md-2 col-sm-2 col-xs-12">Remarks</label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                            <?php  echo $this->formRow($reported->get('remarks')); ?>
                                    </div>
                            </div>
                            <br/>
                            <div class="x_title">
                            <div class="clearfix"></div>
                            </div><br/>
                            <!-- Dynamically adding rows for education -->  
                            <div class="clear"></div>
                                <h4>Previous Education Details:</h4>
                            <label class="control-label col-md-2 col-sm-2 col-xs-12"> Previous School Details: <i>(For Date Fields to pick, first date field is From Date and second date field is To Date). ***Either you click UP or DOWN arrow to display the date or calendar***</i></label>
                               <?php   echo $this->formCollection($reported->get('stdpreviousschooldetails')); ?>
                            <br />
                            <div class="form-horizontal form-label-left">
                                <div class="col-md-3 col-sm-3 col-xs-12 col-md-offset-9">
                                  <button class="btn btn-success" type="button"  onclick="return add_previousschool()"> Add More </button>
                                  <button class="btn btn-danger" type="button"  onclick="return remove_previousschool()"> Remove </button>
                                </div>
                            </div>
                        <div class="clear"></div>
                        <!-- End of Dynamically added rows -->
                            

                            <div class="form-group">
                            <div class="ln_solid"></div>
                                <div class="form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12"></label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <?php  echo $this->formHidden($form->get('csrf')); ?>
                                            <?php  echo $this->formRow($reported->get('submit')); ?>
                                        </div>
                                </div>
                            </div>

                            <?php
                                echo $this->form()->closeTag();
                            ?>
                    </div>
            </div><!--end of x-content-->
        </div><!--end of x-Panel-->
    </div><!--end of col-md-12 col-xs-12-- >
</div><!--end of ""-->


<script>
     function add_previousschool() {
         var currentCount = $('form > fieldset > fieldset').length;
         var template = $('form > fieldset > span').data('template');
         template = template.replace(/__index__/g, currentCount);

         $('form > fieldset').append(template);

         return false;
     } 

     function remove_previousschool(){
        $('form > fieldset > fieldset').last().remove();
        return false;
     }
 </script>

 