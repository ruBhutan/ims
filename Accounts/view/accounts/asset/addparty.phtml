<?php
/**
 * 
 * View -- of Accounts/AssetController/addpartyAction
 * 
 */
 $title = 'Add New Party';
 $this->headTitle($title);
?>
<div class="right_col" role="main">
    <div class="">
        <div class="col-md-12 col-xs-12">
            <div class="x_panel">
                <div class="x_title">
                    <h2><?php echo $this->escapeHtml($title); ?></h2>
					<ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </ul>
					<div class="clearfix"></div>
                </div><!--end of x-title-->
                <div class="pull-right"></div>			
                <?php echo $this->partial('accounts/asset/partial.phtml', array('active' => 'party')); ?>
				<div class="x_content">
					<form id="form" method="post" action="<?php echo $this->url('asset', array('action' => 'addparty')); ?>" enctype="multipart/form-data" >
						
						<div class="row">    
							<div class="form-group col-lg-4">
								<label for="name" class="control-label">Party Name</label>
								<input type="text" class="form-control" name="name" id="name" placeholder="Name" required>
							</div>
							<div class="form-group col-lg-4">
								<label for="code" class="control-label">Party Code</label>
								<input type="text" class="form-control" name="code" id="code" placeholder="Code" required>
							</div>
							<div class="form-group col-lg-4">
								<label for="party_role" class="control-label">Party Role</label>
								<select id="party_role" name="party_role" class="form-control" data-placeholder="Select" required >
									<option value=""></option>
									<?php 
									foreach ($this->proles as $row):
									?>
										<option value="<?php echo $row['id'];?>">
										<?php echo $row['party_role']; ?>
										</option>
									<?php 
									endforeach;
									?>
								</select>
							</div>
						</div>
						<div class="row">
						   <div class="form-group col-lg-4">
								<label for="organisation" class="control-label">Select Organisation</label>
								<select id="organisation" name="organisation" class="form-control" data-placeholder="Select" required >
									<option value=""></option>
									<?php 
									foreach ($this->organisations as $row):
									$selected_org = ($organisation ==$row['id'])?'selected':'';
									?>
										<option value="<?php echo $row['id'];?>"<?php echo $selected_org;?>>
										<?php echo $row['organisation_name']; ?>
										</option>
									<?php 
									endforeach;
									?>
								</select>
							</div>
							<div class="form-group col-lg-4">
								<label for="supplier_license_no" class="control-label">License No. </label>
								<input type="text" class="form-control" name="supplier_license_no" id="supplier_license_no" placeholder="license no" required>
							</div>
							<div class="form-group col-lg-4">
								<label for="supplier_tpn_no" class="control-label">TPN No. </label>
								<input type="text" class="form-control" name="supplier_tpn_no" id="supplier_tpn_no" placeholder="Name" required>
							</div>
							<div class="form-group col-lg-4">
								<label for="supplier_bank_acc_no" class="control-label">Bank Accounts No. </label>
								<input type="text" class="form-control" name="supplier_bank_acc_no" id="supplier_bank_acc_no" placeholder="Name" required>
							</div>
							<div class="form-group col-lg-4">
								<label for="supplier_contact_no" class="control-label">Contact No. </label>
								<input type="text" class="form-control" name="supplier_contact_no" id="supplier_contact_no" placeholder="Name" required>
							</div>
							<div class="form-group col-lg-4">
									<label for="active" class="control-label"> Check  </label>
									<div class="radio">
										<label>
											<input type="radio" name="active" id="active" value="1" required>
											&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Active
										</label>
										&nbsp;&nbsp;&nbsp;
										<label>
											<input type="radio" name="active" id="active" value="0" required>
											&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inactive
										</label>
									</div>
								</div>	
							<div class="form-group col-lg-4">
								<label for="address" class="control-label">Address</label>
								<textarea class="form-control" name="address" id="address"></textarea>
							</div>
						</div>
						<div class="row">
							<div class="col-lg-12">
								<button type="submit" class="btn btn-success"><i class="fa fa-check"></i> Save </button>
								<button type="button" class="btn btn-warning" onclick="javascript:history.back();" ><i class="fa fa-times"></i> Cancel </button>
							</div>
						</div> 
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	$(function() {
		/****** dynamic insertion of table row*******/	
		$('form').formValidation({
			framework: 'bootstrap',
			excluded: ':disabled',
			message: 'Please enter a value.',
			fields: {
				code: {
					validators: {
						notEmpty: {
							message: 'Please provide code.'
						},
					}
				},
				name: {
					validators: {
						notEmpty: {
							message: 'Please provide name.'
						},
					}
				},
				role: {
					validators: {
						notEmpty: {
							message: 'Please select role.'
						},
					}
				},
				'head[]': {
					validators: {
					    notEmpty: {
						message: 'Please select Head'
					    }
					}
				}, 
			}
		});
	});
</script>
	
